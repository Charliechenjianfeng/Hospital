<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.educational.demo.dao.RoleMapper">


    <select id="listTableByPage" resultType="com.educational.demo.model.Role"
    parameterType="com.baomidou.mybatisplus.extension.plugins.pagination.Page">
           select r.id,r.role_name,r.description,r.rank1,r.color,r.status,r.create_time,r.update_time,count(sru.role_id) userCount
           from sys_role r left join sys_role_user sru on r.id=sru.role_id
        <if test="ew != null and ew.emptyOfWhere == false">
            ${ew.customSqlSegment}
        </if>
           group by r.id

    </select>



</mapper>